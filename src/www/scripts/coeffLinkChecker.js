// Generated by CoffeeScript 1.6.3
(function() {
  define(["jquery"], function($) {
    return function(graphModel, dataProvider) {
      return graphModel.on("add:node", function(node) {
        var nodes;
        nodes = graphModel.getNodes();
        return dataProvider.getLinks(node, nodes, function(links) {
          return _.each(links, function(coeffs, i) {
            var link;
            link = {
              source: node,
              target: nodes[i],
              coeffs: coeffs
            };
            if ((dataProvider.filter == null) || dataProvider.filter(link)) {
              return graphModel.putLink(link);
            }
          });
        });
      });
    };
  });

}).call(this);
